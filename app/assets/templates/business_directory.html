<div ng-controller="BusinessDirectoryController" ng-init="init()">
  <div class="bus">
    <div class="thirds bus__top">

      <div class="thirds__box bus__rand utils__hover--orange" ng-repeat="business in businesses" ng-click="randomClick(business)">
        <div class="bus__rand-title">
          {{business.name}}
        </div>
        <img ng-src={{business.thumb}}></img>
      </div>
    </div>
    <div class="bus__search">
      <!-- <form ng-submit="submit()"> -->
      <input class="form-control bus__search-input" type="text" ng-model="query" name="query" placeholder="Person, business, hit enter"/>
      <!-- </form> -->
    </div>

    <div>
      <input type="checkbox" ng-model="filters.business" ng-checked="filters.business" name="business-filter">
      <label name="business-filter">Businesses</label>
    </div>
    <div>
      <input type="checkbox" ng-model="filters.person" ng-checked="filters.person">
      <label name="person-filter">People</label>
    </div>
    <div class="bus__alph">
      <span ng-repeat="letter in alphabet">
        <span class="bus__alph-letter" ng-click="letterClick(letter)">
          <a href=""> {{letter}} </a>
        </span>
      </span>
    </div>
    <!--  <div class="view-container">
      <div ng-view class="view-frame"></div>
    </div> -->
    <!-- <div ng-switch="hasMarkers()"> -->
    <div ng-hide="(displayList | entityFilter:filters.person:filters.business).length == 0" class="row">
      <div class="col-sm-6">
        <div ng-include="'map_template.html'" class="nm__map--medium">
        </div>
      </div>
      <div class="col-sm-6">
        <div class="bus__list">
          <div ng-repeat="business in displayList | orderBy:'name': false | entityFilter:filters.person:filters.business">
            <div ng-include="'business_item.html'"></div>
          </div>
          <div class="bus__none" ng-hide="(displayList | entityFilter:filters.person:filters.business).length">
            Find some more businesses!
          </div>
        </div>
      </div>
    </div>
    <div ng-hide="(displayList | entityFilter:filters.person:filters.business).length < 0">
      <div class="bus__list">
        <div class="bus__none" ng-hide="(displayList | entityFilter:filters.person:filters.business).length">
          Find some more businesses!
        </div>
      </div>
    </div>
    <!-- </div> -->
  </div>
</div>